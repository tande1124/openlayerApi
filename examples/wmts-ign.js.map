{"version":3,"sources":["webpack:///./wmts-ign.js"],"names":["map","target","view","zoom","center","resolutions","matrixIds","proj3857","maxResolution","getExtent","i","toString","Math","pow","const","tileGrid","origin","ign_source","url","layer","matrixSet","format","projection","style","attributions","ign","source","addLayer"],"mappings":"4FAAA,OAqBA,IArBA,wDAQMA,EAAM,IAAI,IAAI,CAClBC,OAAQ,MACRC,KAAM,IAAI,IAAK,CACbC,KAAM,EACNC,OAAQ,YAAW,CAAC,EAAG,SAIrBC,EAAc,GACdC,EAAY,GACZC,EAAW,YAAc,aACzBC,EAAgB,YAASD,EAASE,aAAe,IAE9CC,EAAI,EAAGA,EAAI,GAAIA,IACtBJ,EAAUI,GAAKA,EAAEC,WACjBN,EAAYK,GAAKF,EAAgBI,KAAKC,IAAI,EAAGH,GAG/CI,IAAMC,EAAW,IAAI,IAAa,CAChCC,OAAQ,EAAE,SAAU,UACpBX,YAAaA,EACbC,UAAWA,IAMPW,EAAa,IAAI,IAAK,CAC1BC,IAAK,8CACLC,MAAO,+BACPC,UAAW,KACXC,OAAQ,aACRC,WAAY,YACZP,SAAUA,EACVQ,MAAO,SACPC,aACE,6LAKEC,EAAM,IAAI,IAAU,CACxBC,OAAQT,IAGVjB,EAAI2B,SAASF,K","file":"wmts-ign.js","sourcesContent":["import Map from '../src/ol/Map.js';\r\nimport TileLayer from '../src/ol/layer/Tile.js';\r\nimport View from '../src/ol/View.js';\r\nimport WMTS from '../src/ol/source/WMTS.js';\r\nimport WMTSTileGrid from '../src/ol/tilegrid/WMTS.js';\r\nimport {fromLonLat, get as getProjection} from '../src/ol/proj.js';\r\nimport {getWidth} from '../src/ol/extent.js';\r\n\r\nconst map = new Map({\r\n  target: 'map',\r\n  view: new View({\r\n    zoom: 5,\r\n    center: fromLonLat([5, 45]),\r\n  }),\r\n});\r\n\r\nconst resolutions = [];\r\nconst matrixIds = [];\r\nconst proj3857 = getProjection('EPSG:3857');\r\nconst maxResolution = getWidth(proj3857.getExtent()) / 256;\r\n\r\nfor (let i = 0; i < 18; i++) {\r\n  matrixIds[i] = i.toString();\r\n  resolutions[i] = maxResolution / Math.pow(2, i);\r\n}\r\n\r\nconst tileGrid = new WMTSTileGrid({\r\n  origin: [-20037508, 20037508],\r\n  resolutions: resolutions,\r\n  matrixIds: matrixIds,\r\n});\r\n\r\n// For more information about the IGN API key see\r\n// https://geoservices.ign.fr/blog/2017/06/28/geoportail_sans_compte.html\r\n\r\nconst ign_source = new WMTS({\r\n  url: 'https://wxs.ign.fr/pratique/geoportail/wmts',\r\n  layer: 'GEOGRAPHICALGRIDSYSTEMS.MAPS',\r\n  matrixSet: 'PM',\r\n  format: 'image/jpeg',\r\n  projection: 'EPSG:3857',\r\n  tileGrid: tileGrid,\r\n  style: 'normal',\r\n  attributions:\r\n    '<a href=\"http://www.ign.fr\" target=\"_blank\">' +\r\n    '<img src=\"https://wxs.ign.fr/static/logos/IGN/IGN.gif\" title=\"Institut national de l\\'' +\r\n    'information géographique et forestière\" alt=\"IGN\"></a>',\r\n});\r\n\r\nconst ign = new TileLayer({\r\n  source: ign_source,\r\n});\r\n\r\nmap.addLayer(ign);\r\n"],"sourceRoot":""}