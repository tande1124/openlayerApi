{"version":3,"sources":["webpack:///./turf.js"],"names":["source","fetch","then","response","json","const","format","street","readFeatures","turfLine","writeFeatureObject","length","turf","lineDistance","i","turfPoint","along","marker","readFeature","getGeometry","transform","addFeature","vectorLayer","rasterLayer","layers","target","document","getElementById","view","center","zoom"],"mappings":"4FAAA,sEAOMA,EAAS,IAAI,IACnBC,MAAM,oCACHC,MAAK,SAAUC,GACd,OAAOA,EAASC,UAEjBF,MAAK,SAAUE,GAad,IAZAC,IAAMC,EAAS,IAAI,IAEbC,EADWD,EAAOE,aAAaJ,GACb,GAGlBK,EAAWH,EAAOI,mBAAmBH,GAMrCI,EAASC,KAAKC,aAAaJ,EAAU,cAClCK,EAAI,EAAGA,GAAKH,EAJJ,GAIuBG,IAAK,CAC3CT,IAAMU,EAAYH,KAAKI,MAAMP,EALd,GAKwBK,EAAc,cAG/CG,EAASX,EAAOY,YAAYH,GAClCE,EAAOE,cAAcC,UAAU,YAAa,aAC5CpB,EAAOqB,WAAWJ,GAGpBV,EAAOY,cAAcC,UAAU,YAAa,aAC5CpB,EAAOqB,WAAWd,MAEtBF,IAAMiB,EAAc,IAAI,IAAY,CAClCtB,OAAQA,IAGJuB,EAAc,IAAI,IAAU,CAChCvB,OAAQ,IAAI,MAGF,IAAI,IAAI,CAClBwB,OAAQ,CAACD,EAAaD,GACtBG,OAAQC,SAASC,eAAe,OAChCC,KAAM,IAAI,IAAK,CACbC,OAAQ,YAAW,CAAC,WAAY,WAChCC,KAAM,S","file":"turf.js","sourcesContent":["import GeoJSON from '../src/ol/format/GeoJSON.js';\r\nimport Map from '../src/ol/Map.js';\r\nimport View from '../src/ol/View.js';\r\nimport {OSM, Vector as VectorSource} from '../src/ol/source.js';\r\nimport {Tile as TileLayer, Vector as VectorLayer} from '../src/ol/layer.js';\r\nimport {fromLonLat} from '../src/ol/proj.js';\r\n\r\nconst source = new VectorSource();\r\nfetch('data/geojson/roads-seoul.geojson')\r\n  .then(function (response) {\r\n    return response.json();\r\n  })\r\n  .then(function (json) {\r\n    const format = new GeoJSON();\r\n    const features = format.readFeatures(json);\r\n    const street = features[0];\r\n\r\n    // convert to a turf.js feature\r\n    const turfLine = format.writeFeatureObject(street);\r\n\r\n    // show a marker every 200 meters\r\n    const distance = 0.2;\r\n\r\n    // get the line length in kilometers\r\n    const length = turf.lineDistance(turfLine, 'kilometers');\r\n    for (let i = 1; i <= length / distance; i++) {\r\n      const turfPoint = turf.along(turfLine, i * distance, 'kilometers');\r\n\r\n      // convert the generated point to a OpenLayers feature\r\n      const marker = format.readFeature(turfPoint);\r\n      marker.getGeometry().transform('EPSG:4326', 'EPSG:3857');\r\n      source.addFeature(marker);\r\n    }\r\n\r\n    street.getGeometry().transform('EPSG:4326', 'EPSG:3857');\r\n    source.addFeature(street);\r\n  });\r\nconst vectorLayer = new VectorLayer({\r\n  source: source,\r\n});\r\n\r\nconst rasterLayer = new TileLayer({\r\n  source: new OSM(),\r\n});\r\n\r\nconst map = new Map({\r\n  layers: [rasterLayer, vectorLayer],\r\n  target: document.getElementById('map'),\r\n  view: new View({\r\n    center: fromLonLat([126.980366, 37.52654]),\r\n    zoom: 15,\r\n  }),\r\n});\r\n"],"sourceRoot":""}