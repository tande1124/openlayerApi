{"version":3,"sources":["webpack:///./line-arrows.js"],"names":["raster","source","vector","style","feature","const","geometry","getGeometry","styles","stroke","color","width","forEachSegment","start","end","dx","dy","rotation","Math","atan2","push","image","src","anchor","rotateWithView","layers","target","view","center","zoom","addInteraction","type"],"mappings":"2FAAA,+FAQMA,EAAS,IAAI,IAAU,CAC3BC,OAAQ,IAAI,MAGRA,EAAS,IAAI,IAkCbC,EAAS,IAAI,IAAY,CAC7BD,OAAQA,EACRE,MAlCoB,SAAUC,GAC9BC,IAAMC,EAAWF,EAAQG,cACnBC,EAAS,CAEb,IAAI,IAAM,CACRC,OAAQ,IAAI,IAAO,CACjBC,MAAO,UACPC,MAAO,OAuBb,OAlBAL,EAASM,gBAAe,SAAUC,EAAOC,GACvCT,IAAMU,EAAKD,EAAI,GAAKD,EAAM,GACpBG,EAAKF,EAAI,GAAKD,EAAM,GACpBI,EAAWC,KAAKC,MAAMH,EAAID,GAEhCP,EAAOY,KACL,IAAI,IAAM,CACRd,SAAU,IAAI,IAAMQ,GACpBO,MAAO,IAAI,IAAK,CACdC,IAAK,iBACLC,OAAQ,CAAC,IAAM,IACfC,gBAAgB,EAChBP,UAAWA,UAMZT,KAOG,IAAI,IAAI,CAClBiB,OAAQ,CAACzB,EAAQE,GACjBwB,OAAQ,MACRC,KAAM,IAAI,IAAK,CACbC,OAAQ,EAAE,KAAU,MACpBC,KAAM,MAINC,eACF,IAAI,IAAK,CACP7B,OAAQA,EACR8B,KAAM,kB","file":"line-arrows.js","sourcesContent":["import Draw from '../src/ol/interaction/Draw.js';\r\nimport Map from '../src/ol/Map.js';\r\nimport Point from '../src/ol/geom/Point.js';\r\nimport View from '../src/ol/View.js';\r\nimport {Icon, Stroke, Style} from '../src/ol/style.js';\r\nimport {OSM, Vector as VectorSource} from '../src/ol/source.js';\r\nimport {Tile as TileLayer, Vector as VectorLayer} from '../src/ol/layer.js';\r\n\r\nconst raster = new TileLayer({\r\n  source: new OSM(),\r\n});\r\n\r\nconst source = new VectorSource();\r\n\r\nconst styleFunction = function (feature) {\r\n  const geometry = feature.getGeometry();\r\n  const styles = [\r\n    // linestring\r\n    new Style({\r\n      stroke: new Stroke({\r\n        color: '#ffcc33',\r\n        width: 2,\r\n      }),\r\n    }),\r\n  ];\r\n\r\n  geometry.forEachSegment(function (start, end) {\r\n    const dx = end[0] - start[0];\r\n    const dy = end[1] - start[1];\r\n    const rotation = Math.atan2(dy, dx);\r\n    // arrows\r\n    styles.push(\r\n      new Style({\r\n        geometry: new Point(end),\r\n        image: new Icon({\r\n          src: 'data/arrow.png',\r\n          anchor: [0.75, 0.5],\r\n          rotateWithView: true,\r\n          rotation: -rotation,\r\n        }),\r\n      })\r\n    );\r\n  });\r\n\r\n  return styles;\r\n};\r\nconst vector = new VectorLayer({\r\n  source: source,\r\n  style: styleFunction,\r\n});\r\n\r\nconst map = new Map({\r\n  layers: [raster, vector],\r\n  target: 'map',\r\n  view: new View({\r\n    center: [-11000000, 4600000],\r\n    zoom: 4,\r\n  }),\r\n});\r\n\r\nmap.addInteraction(\r\n  new Draw({\r\n    source: source,\r\n    type: 'LineString',\r\n  })\r\n);\r\n"],"sourceRoot":""}