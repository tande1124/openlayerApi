{"version":3,"sources":["webpack:///./layer-swipe.js"],"names":["osm","source","aerial","attributions","url","maxZoom","map","layers","target","view","center","zoom","swipe","document","getElementById","on","event","const","ctx","context","mapSize","getSize","width","value","tl","tr","bl","br","save","beginPath","moveTo","lineTo","closePath","clip","restore","addEventListener","render"],"mappings":"2FAAA,uDAOMA,EAAM,IAAI,IAAU,CACxBC,OAAQ,IAAI,MAQRC,EAAS,IAAI,IAAU,CAC3BD,OAAQ,IAAI,IAAI,CACdE,aALF,4LAMEC,IAAK,iGACLC,QAAS,OAIPC,EAAM,IAAI,IAAI,CAClBC,OAAQ,CAACP,EAAKE,GACdM,OAAQ,MACRC,KAAM,IAAI,IAAK,CACbC,OAAQ,CAAC,EAAG,GACZC,KAAM,MAIJC,EAAQC,SAASC,eAAe,SAEtCZ,EAAOa,GAAG,aAAa,SAAUC,GAC/BC,IAAMC,EAAMF,EAAMG,QACZC,EAAUd,EAAIe,UACdC,EAAQF,EAAQ,IAAMR,EAAMW,MAAQ,KACpCC,EAAK,YAAeR,EAAO,CAACM,EAAO,IACnCG,EAAK,YAAeT,EAAO,CAACI,EAAQ,GAAI,IACxCM,EAAK,YAAeV,EAAO,CAACM,EAAOF,EAAQ,KAC3CO,EAAK,YAAeX,EAAOI,GAEjCF,EAAIU,OACJV,EAAIW,YACJX,EAAIY,OAAON,EAAG,GAAIA,EAAG,IACrBN,EAAIa,OAAOL,EAAG,GAAIA,EAAG,IACrBR,EAAIa,OAAOJ,EAAG,GAAIA,EAAG,IACrBT,EAAIa,OAAON,EAAG,GAAIA,EAAG,IACrBP,EAAIc,YACJd,EAAIe,UAGN/B,EAAOa,GAAG,cAAc,SAAUC,GACpBA,EAAMG,QACde,aAGNtB,EAAMuB,iBACJ,SACA,WACE7B,EAAI8B,YAEN,K","file":"layer-swipe.js","sourcesContent":["import Map from '../src/ol/Map.js';\r\nimport OSM from '../src/ol/source/OSM.js';\r\nimport TileLayer from '../src/ol/layer/Tile.js';\r\nimport View from '../src/ol/View.js';\r\nimport XYZ from '../src/ol/source/XYZ.js';\r\nimport {getRenderPixel} from '../src/ol/render.js';\r\n\r\nconst osm = new TileLayer({\r\n  source: new OSM(),\r\n});\r\n\r\nconst key = 'get_your_own_D6rA4zTHduk6KOKTXzGB';\r\nconst attributions =\r\n  '<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> ' +\r\n  '<a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>';\r\n\r\nconst aerial = new TileLayer({\r\n  source: new XYZ({\r\n    attributions: attributions,\r\n    url: 'https://api.maptiler.com/tiles/satellite/{z}/{x}/{y}.jpg?key=' + key,\r\n    maxZoom: 20,\r\n  }),\r\n});\r\n\r\nconst map = new Map({\r\n  layers: [osm, aerial],\r\n  target: 'map',\r\n  view: new View({\r\n    center: [0, 0],\r\n    zoom: 2,\r\n  }),\r\n});\r\n\r\nconst swipe = document.getElementById('swipe');\r\n\r\naerial.on('prerender', function (event) {\r\n  const ctx = event.context;\r\n  const mapSize = map.getSize();\r\n  const width = mapSize[0] * (swipe.value / 100);\r\n  const tl = getRenderPixel(event, [width, 0]);\r\n  const tr = getRenderPixel(event, [mapSize[0], 0]);\r\n  const bl = getRenderPixel(event, [width, mapSize[1]]);\r\n  const br = getRenderPixel(event, mapSize);\r\n\r\n  ctx.save();\r\n  ctx.beginPath();\r\n  ctx.moveTo(tl[0], tl[1]);\r\n  ctx.lineTo(bl[0], bl[1]);\r\n  ctx.lineTo(br[0], br[1]);\r\n  ctx.lineTo(tr[0], tr[1]);\r\n  ctx.closePath();\r\n  ctx.clip();\r\n});\r\n\r\naerial.on('postrender', function (event) {\r\n  const ctx = event.context;\r\n  ctx.restore();\r\n});\r\n\r\nswipe.addEventListener(\r\n  'input',\r\n  function () {\r\n    map.render();\r\n  },\r\n  false\r\n);\r\n"],"sourceRoot":""}