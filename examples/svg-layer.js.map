{"version":3,"sources":["webpack:///./svg-layer.js"],"names":["map","target","view","center","extent","projection","zoom","svgContainer","document","createElement","xhr","XMLHttpRequest","open","addEventListener","const","svg","responseXML","documentElement","ownerDocument","importNode","appendChild","send","svgResolution","style","width","height","transformOrigin","className","addLayer","render","frameState","scale","viewState","resolution","size","cssTransform","rotation","transform","opacity","this","getOpacity"],"mappings":"4FAAA,yCAKMA,EAAM,IAAI,IAAI,CAClBC,OAAQ,MACRC,KAAM,IAAI,IAAK,CACbC,OAAQ,CAAC,EAAG,GACZC,OAAQ,EAAE,KAAM,GAAI,IAAK,IACzBC,WAAY,YACZC,KAAM,MAIJC,EAAeC,SAASC,cAAc,OACtCC,EAAM,IAAIC,eAChBD,EAAIE,KAAK,MAAO,kBAChBF,EAAIG,iBAAiB,QAAQ,WAC3BC,IAAMC,EAAML,EAAIM,YAAYC,gBAC5BV,EAAaW,cAAcC,WAAWJ,GACtCR,EAAaa,YAAYL,MAE3BL,EAAIW,OAEJP,IAEMQ,EAAgB,QACtBf,EAAagB,MAAMC,MAAQA,SAC3BjB,EAAagB,MAAME,OAASA,SAC5BlB,EAAagB,MAAMG,gBAAkB,WACrCnB,EAAaoB,UAAY,YAEzB3B,EAAI4B,SACF,IAAI,IAAM,CACRC,OAAQ,SAAUC,GAChBhB,IAAMiB,EAAQT,EAAgBQ,EAAWE,UAAUC,WAC7C9B,EAAS2B,EAAWE,UAAU7B,OAC9B+B,EAAOJ,EAAWI,KAClBC,EAAe,YACnBD,EAAK,GAAK,EACVA,EAAK,GAAK,EACVH,EACAA,EACAD,EAAWE,UAAUI,UACpBjC,EAAO,GAAKmB,EAAgBE,KAC7BrB,EAAO,GAAKmB,EAAgBG,KAI9B,OAFAlB,EAAagB,MAAMc,UAAYF,EAC/B5B,EAAagB,MAAMe,QAAUC,KAAKC,aAC3BjC,Q","file":"svg-layer.js","sourcesContent":["import Layer from '../src/ol/layer/Layer.js';\r\nimport Map from '../src/ol/Map.js';\r\nimport View from '../src/ol/View.js';\r\nimport {composeCssTransform} from '../src/ol/transform.js';\r\n\r\nconst map = new Map({\r\n  target: 'map',\r\n  view: new View({\r\n    center: [0, 0],\r\n    extent: [-180, -90, 180, 90],\r\n    projection: 'EPSG:4326',\r\n    zoom: 2,\r\n  }),\r\n});\r\n\r\nconst svgContainer = document.createElement('div');\r\nconst xhr = new XMLHttpRequest();\r\nxhr.open('GET', 'data/world.svg');\r\nxhr.addEventListener('load', function () {\r\n  const svg = xhr.responseXML.documentElement;\r\n  svgContainer.ownerDocument.importNode(svg);\r\n  svgContainer.appendChild(svg);\r\n});\r\nxhr.send();\r\n\r\nconst width = 2560;\r\nconst height = 1280;\r\nconst svgResolution = 360 / width;\r\nsvgContainer.style.width = width + 'px';\r\nsvgContainer.style.height = height + 'px';\r\nsvgContainer.style.transformOrigin = 'top left';\r\nsvgContainer.className = 'svg-layer';\r\n\r\nmap.addLayer(\r\n  new Layer({\r\n    render: function (frameState) {\r\n      const scale = svgResolution / frameState.viewState.resolution;\r\n      const center = frameState.viewState.center;\r\n      const size = frameState.size;\r\n      const cssTransform = composeCssTransform(\r\n        size[0] / 2,\r\n        size[1] / 2,\r\n        scale,\r\n        scale,\r\n        frameState.viewState.rotation,\r\n        -center[0] / svgResolution - width / 2,\r\n        center[1] / svgResolution - height / 2\r\n      );\r\n      svgContainer.style.transform = cssTransform;\r\n      svgContainer.style.opacity = this.getOpacity();\r\n      return svgContainer;\r\n    },\r\n  })\r\n);\r\n"],"sourceRoot":""}