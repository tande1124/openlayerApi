{"version":3,"sources":["webpack:///./wmts-hidpi.js"],"names":["hiDPI","layer","tilePixelRatio","map","target","view","center","zoom","fetch","then","response","text","const","result","read","options","matrixSet","style","addLayer","source"],"mappings":"4FAAA,iDAaMA,EAbN,MAac,EAAqB,EAC7BC,EAAQD,EAAQ,YAAc,iBAC9BE,EAAiBF,EAAQ,EAAI,EAE7BG,EAAM,IAAI,IAAI,CAClBC,OAAQ,MACRC,KAAM,IAAI,IAAK,CACbC,OAAQ,CAAC,QAAS,SAClBC,KAAM,OAIVC,MAjBE,0DAkBCC,MAAK,SAAUC,GACd,OAAOA,EAASC,UAEjBF,MAAK,SAAUE,GACdC,IAAMC,GAAS,IAAI,KAAmBC,KAAKH,GACrCI,EAAU,YAAwBF,EAAQ,CAC9CZ,MAAOA,EACPe,UAAW,aACXC,MAAO,WAETF,EAAQb,eAAiBA,EACzBC,EAAIe,SACF,IAAI,IAAU,CACZC,OAAQ,IAAI,IAAKJ,W","file":"wmts-hidpi.js","sourcesContent":["import Map from '../src/ol/Map.js';\r\nimport TileLayer from '../src/ol/layer/Tile.js';\r\nimport View from '../src/ol/View.js';\r\nimport WMTS, {optionsFromCapabilities} from '../src/ol/source/WMTS.js';\r\nimport WMTSCapabilities from '../src/ol/format/WMTSCapabilities.js';\r\nimport {DEVICE_PIXEL_RATIO} from '../src/ol/has.js';\r\n\r\nconst capabilitiesUrl =\r\n  'https://www.basemap.at/wmts/1.0.0/WMTSCapabilities.xml';\r\n\r\n// HiDPI support:\r\n// * Use 'bmaphidpi' layer (pixel ratio 2) for device pixel ratio > 1\r\n// * Use 'geolandbasemap' layer (pixel ratio 1) for device pixel ratio == 1\r\nconst hiDPI = DEVICE_PIXEL_RATIO > 1;\r\nconst layer = hiDPI ? 'bmaphidpi' : 'geolandbasemap';\r\nconst tilePixelRatio = hiDPI ? 2 : 1;\r\n\r\nconst map = new Map({\r\n  target: 'map',\r\n  view: new View({\r\n    center: [1823849, 6143760],\r\n    zoom: 11,\r\n  }),\r\n});\r\n\r\nfetch(capabilitiesUrl)\r\n  .then(function (response) {\r\n    return response.text();\r\n  })\r\n  .then(function (text) {\r\n    const result = new WMTSCapabilities().read(text);\r\n    const options = optionsFromCapabilities(result, {\r\n      layer: layer,\r\n      matrixSet: 'google3857',\r\n      style: 'normal',\r\n    });\r\n    options.tilePixelRatio = tilePixelRatio;\r\n    map.addLayer(\r\n      new TileLayer({\r\n        source: new WMTS(options),\r\n      })\r\n    );\r\n  });\r\n"],"sourceRoot":""}